# ä¸­å›½èŠ‚å‡æ—¥é›†æˆåŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

æœ¬æ—¥å†ç³»ç»Ÿå·²é›†æˆä¸­å›½æ³•å®šèŠ‚å‡æ—¥å’Œå‘¨æœ«è°ƒä¼‘æ ‡è®°åŠŸèƒ½ã€‚

### æ˜¾ç¤ºæ•ˆæœ

- ğŸ”´ **èŠ‚å‡æ—¥**ï¼šçº¢è‰²"ä¼‘"å¾½ç«  + æ·¡çº¢è‰²èƒŒæ™¯
- ğŸŸ  **è°ƒä¼‘è¡¥ç­**ï¼šæ©™è‰²"ç­"å¾½ç«  + æ·¡æ©™è‰²èƒŒæ™¯

### å½“å‰æ•°æ®

- âœ… **2026å¹´**ï¼šå®˜æ–¹æ•°æ®ï¼ˆåŸºäºå›½åŠ¡é™¢å‘å¸ƒï¼‰
- â³ **2027å¹´**ï¼šé¢„æµ‹æ•°æ®ï¼ˆéœ€è¦åœ¨2026å¹´11æœˆ30æ—¥æ›´æ–°ï¼‰

## ä½¿ç”¨æ–¹æ³•

### 1. æŸ¥çœ‹èŠ‚å‡æ—¥

å¯åŠ¨å¼€å‘æœåŠ¡å™¨åï¼ŒèŠ‚å‡æ—¥ä¼šè‡ªåŠ¨åœ¨æ—¥å†ä¸­æ˜¾ç¤ºï¼š

```bash
pnpm dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5000ï¼Œåœ¨æ—¥å†ä¸­å¯ä»¥çœ‹åˆ°ï¼š
- æœˆè§†å›¾ï¼šæ—¥æœŸæ—è¾¹æ˜¾ç¤º"ä¼‘"æˆ–"ç­"å¾½ç« 
- å‘¨è§†å›¾/æ—¥è§†å›¾ï¼šåˆ—æ ‡é¢˜æ˜¾ç¤ºå¾½ç« ï¼ŒèƒŒæ™¯æœ‰é¢œè‰²æ ‡è¯†

### 2. æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°

æ‰‹åŠ¨æ£€æŸ¥èŠ‚å‡æ—¥æ•°æ®æ›´æ–°çŠ¶æ€ï¼š

```bash
pnpm check-holidays
```

### 3. è®¾ç½®è‡ªåŠ¨æ£€æŸ¥ï¼ˆæ¨èï¼‰

#### Linux/macOS

è¿è¡Œè®¾ç½®è„šæœ¬ï¼š

```bash
bash scripts/setup-cron.sh
```

æˆ–æ‰‹åŠ¨æ·»åŠ  crontabï¼š

```bash
crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
0 9 * 11 * cd /home/carter/calendar && pnpm check-holidays >> logs/holiday-check.log 2>&1
```

#### Windows

ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShellï¼š

```powershell
.\scripts\setup-windows-task.ps1
```

## èŠ‚å‡æ—¥æ•°æ®

### æ•°æ®æ–‡ä»¶

èŠ‚å‡æ—¥æ•°æ®å­˜å‚¨åœ¨ [src/lib/chinese-holidays.ts](src/lib/chinese-holidays.ts)

### æ•°æ®æ ¼å¼

```typescript
{
  date: '2026-01-01',           // æ—¥æœŸ (YYYY-MM-DD)
  name: 'å…ƒæ—¦',                  // èŠ‚å‡æ—¥åç§°
  isHoliday: true,              // true=ä¼‘æ¯, false=è°ƒä¼‘è¡¥ç­
  holidayType: 'new-year'       // èŠ‚å‡æ—¥ç±»å‹
}
```

### èŠ‚å‡æ—¥ç±»å‹

| ç±»å‹ | å€¼ | ç¤ºä¾‹ |
|------|---|------|
| å…ƒæ—¦ | `new-year` | 1æœˆ1-3æ—¥ |
| æ˜¥èŠ‚ | `spring-festival` | å†œå†æ­£æœˆåˆä¸€å‰å7å¤© |
| æ¸…æ˜èŠ‚ | `qingming` | 4æœˆ4-6æ—¥ |
| åŠ³åŠ¨èŠ‚ | `labor-day` | 5æœˆ1-5æ—¥ |
| ç«¯åˆèŠ‚ | `dragon-boat` | å†œå†äº”æœˆåˆäº”å‰å3å¤© |
| ä¸­ç§‹èŠ‚ | `mid-autumn` | å†œå†å…«æœˆåäº”å‰å3å¤© |
| å›½åº†èŠ‚ | `national-day` | 10æœˆ1-7æ—¥ |

## æ›´æ–°èŠ‚å‡æ—¥æ•°æ®

### æ—¶é—´è¦æ±‚

æ¯å¹´ **11æœˆ30æ—¥** æ£€æŸ¥å¹¶æ›´æ–°ä¸‹ä¸€å¹´çš„èŠ‚å‡æ—¥æ•°æ®ã€‚

### æ›´æ–°æ­¥éª¤

#### 1. è·å–å®˜æ–¹æ•°æ®

è®¿é—®å›½åŠ¡é™¢åŠå…¬å…å®˜ç½‘ï¼šhttp://www.gov.cn/
æœç´¢ï¼š"2027å¹´èŠ‚å‡æ—¥å®‰æ’"

#### 2. ç¼–è¾‘æ•°æ®æ–‡ä»¶

æ‰“å¼€ [src/lib/chinese-holidays.ts](src/lib/chinese-holidays.ts)ï¼Œæ‰¾åˆ°å¯¹åº”å¹´ä»½çš„æ•°ç»„ï¼ˆå¦‚ `holidays2027`ï¼‰ï¼Œæ›´æ–°æ•°æ®ï¼š

```typescript
export const holidays2027: HolidayData[] = [
  // å…ƒæ—¦
  { date: '2027-01-01', name: 'å…ƒæ—¦', isHoliday: true, holidayType: 'new-year' },

  // æ˜¥èŠ‚
  { date: '2027-02-06', name: 'æ˜¥èŠ‚', isHoliday: true, holidayType: 'spring-festival' },

  // è°ƒä¼‘è¡¥ç­ï¼ˆé‡è¦ï¼ï¼‰
  { date: '2027-02-05', name: 'æ˜¥èŠ‚è°ƒä¼‘', isHoliday: false, holidayType: 'spring-festival' },

  // ... å…¶ä»–èŠ‚å‡æ—¥
]
```

**æ³¨æ„**ï¼š
- âœ… èŠ‚å‡æ—¥ï¼š`isHoliday: true`
- âœ… è°ƒä¼‘è¡¥ç­ï¼š`isHoliday: false`
- âœ… ç¡®ä¿åŒ…å«æ‰€æœ‰è°ƒä¼‘æ—¥æœŸ

#### 3. æµ‹è¯•éªŒè¯

```bash
pnpm dev
```

åœ¨æ—¥å†ä¸­æ£€æŸ¥ï¼š
- âœ“ èŠ‚å‡æ—¥æ˜¾ç¤ºçº¢è‰²"ä¼‘"å¾½ç« 
- âœ“ è°ƒä¼‘æ—¥æ˜¾ç¤ºæ©™è‰²"ç­"å¾½ç« 
- âœ“ æ‚¬åœæ˜¾ç¤ºèŠ‚å‡æ—¥åç§°

## API æ¥å£

### æ£€æŸ¥æ›´æ–°çŠ¶æ€

```bash
GET /api/holidays/check-update
```

è¿”å›ç¤ºä¾‹ï¼š
```json
{
  "needsUpdate": false,
  "currentYear": 2026,
  "nextCheckDate": "2026-11-30"
}
```

### è·å–èŠ‚å‡æ—¥æ•°æ®

```bash
POST /api/holidays/check-update
Content-Type: application/json

{
  "year": 2027
}
```

## åœ¨ä»£ç ä¸­ä½¿ç”¨

### æ£€æŸ¥èŠ‚å‡æ—¥

```typescript
import { isHoliday, isWorkday, getHolidayInfo } from '@/lib/chinese-holidays'

// æ£€æŸ¥æ˜¯å¦æ˜¯èŠ‚å‡æ—¥ï¼ˆä¼‘æ¯ï¼‰
isHoliday('2026-01-01')  // true

// æ£€æŸ¥æ˜¯å¦æ˜¯è°ƒä¼‘è¡¥ç­
isWorkday('2026-02-14')  // true

// è·å–è¯¦ç»†ä¿¡æ¯
const info = getHolidayInfo('2026-01-01')
// { date: '2026-01-01', name: 'å…ƒæ—¦', isHoliday: true, holidayType: 'new-year' }
```

## æ–‡ä»¶ç»“æ„

```
calendar/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ chinese-holidays.ts          # èŠ‚å‡æ—¥æ•°æ®æº
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ event-calendar.tsx           # æ—¥å†ç»„ä»¶ï¼ˆå·²é›†æˆèŠ‚å‡æ—¥ï¼‰
â”‚   â”‚   â””â”€â”€ event-calendar.css           # èŠ‚å‡æ—¥æ ·å¼
â”‚   â””â”€â”€ app/api/holidays/
â”‚       â””â”€â”€ check-update/route.ts        # æ£€æŸ¥æ›´æ–°API
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ check-holiday-update.ts          # æ£€æŸ¥è„šæœ¬
â”‚   â”œâ”€â”€ setup-cron.sh                    # Linux/macOSå®šæ—¶ä»»åŠ¡è®¾ç½®
â”‚   â””â”€â”€ setup-windows-task.ps1           # Windowså®šæ—¶ä»»åŠ¡è®¾ç½®
â””â”€â”€ docs/
    â””â”€â”€ chinese-holidays-guide.md        # è¯¦ç»†æ–‡æ¡£
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆ2027å¹´æ˜¯é¢„æµ‹æ•°æ®ï¼Ÿ

A: å›½åŠ¡é™¢é€šå¸¸åœ¨æ¯å¹´11æœˆåº•æ‰å‘å¸ƒä¸‹ä¸€å¹´çš„å…·ä½“èŠ‚å‡æ—¥å®‰æ’ï¼ŒåŒ…æ‹¬è°ƒä¼‘æ—¥æœŸã€‚é¢„æµ‹æ•°æ®åŸºäºä¼ ç»ŸèŠ‚æ—¥æ—¥æœŸï¼Œä½†è°ƒä¼‘å®‰æ’å¯èƒ½ä¸å‡†ç¡®ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°å¹´ä»½æ•°æ®ï¼Ÿ

A: åœ¨ `chinese-holidays.ts` ä¸­ï¼š
1. æ·»åŠ æ–°æ•°ç»„ï¼ˆå¦‚ `holidays2028`ï¼‰
2. æ·»åŠ åˆ° `allHolidays`ï¼š
   ```typescript
   export const allHolidays = [
     ...holidays2026,
     ...holidays2027,
     ...holidays2028,  // æ–°å¢
   ]
   ```

### Q: è°ƒä¼‘æ—¥æœŸä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ

A: è°ƒä¼‘æ—¥æœŸè™½ç„¶æ˜¯å‘¨æœ«ï¼Œä½†éœ€è¦ä¸Šç­ã€‚æ ‡è®°ä¸º `isHoliday: false` å¯ä»¥è®©ç”¨æˆ·çŸ¥é“è¿™å¤©éœ€è¦å·¥ä½œã€‚

### Q: å¯ä»¥è‡ªå®šä¹‰èŠ‚å‡æ—¥é¢œè‰²å—ï¼Ÿ

A: å¯ä»¥ï¼Œç¼–è¾‘ [src/components/event-calendar.css](src/components/event-calendar.css)ï¼š
- `.holiday-badge` - èŠ‚å‡æ—¥å¾½ç« é¢œè‰²
- `.workday-badge` - è°ƒä¼‘å¾½ç« é¢œè‰²
- `.holiday-cell` - èŠ‚å‡æ—¥å•å…ƒæ ¼èƒŒæ™¯
- `.workday-cell` - è°ƒä¼‘å•å…ƒæ ¼èƒŒæ™¯

## æ•°æ®æ¥æº

- å›½åŠ¡é™¢åŠå…¬å…å®˜ç½‘ï¼šhttp://www.gov.cn/
- ç¬¬ä¸‰æ–¹APIï¼ˆå‚è€ƒï¼‰ï¼š
  - https://timor.tech/api/holiday/
  - https://api.apihubs.cn/holiday/

## æ›´æ–°è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| 2026-02-11 | 1.0 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«2026å¹´å®˜æ–¹æ•°æ®å’Œ2027å¹´é¢„æµ‹æ•°æ® |

---

**é‡è¦æé†’**ï¼šè¯·åœ¨æ¯å¹´11æœˆ30æ—¥æ£€æŸ¥å¹¶æ›´æ–°ä¸‹ä¸€å¹´çš„èŠ‚å‡æ—¥æ•°æ®ï¼

è¯¦ç»†æ–‡æ¡£ï¼š[docs/chinese-holidays-guide.md](docs/chinese-holidays-guide.md)
