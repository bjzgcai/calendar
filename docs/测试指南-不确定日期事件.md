# 测试指南 - 不确定日期事件功能

## 功能说明

现在你可以创建"日期待定"的事件了！适用于以下场景：
- ✅ 知道大概在某个月，但具体日期未定
- ✅ 知道在某个季度，但具体时间未定
- ✅ 知道在某年内，但时间完全未定

## 测试步骤

### 1. 创建"日期待定"事件

1. 点击日历上的 **"创建新活动"** 按钮
2. 在 **"日期精确度"** 下拉框中选择 **"日期待定"**
3. 原来的"活动日期"、"开始时刻"、"结束时刻"字段会**消失**
4. 出现新的 **"大致月份"** 字段（可以选择年月，如 2024-03）
5. 填写其他信息后点击"创建"

**示例数据**：
```
标题：春季学术研讨会
日期精确度：日期待定
大致月份：2024-03
内容：具体日期根据嘉宾时间确定
发起者：科学研究中心
活动类型：学术研究
```

### 2. 查看不同视图中的显示

创建成功后，切换不同视图查看效果：

#### ✅ **年视图** (推荐查看)
- 点击右上角切换到"年视图"
- 你会看到事件显示在 3月 的格子中
- 事件有**虚线边框**和**斜纹背景**
- 右上角有 📅? 小图标
- 蓝色渐变背景

#### ✅ **月视图**
- 切换到"月视图" → 2024年3月
- 事件会显示在**3月1日**（月初）
- 带虚线边框和特殊样式
- 鼠标悬停显示"📅 日期待定"徽章

#### ❌ **周视图 / 日视图**
- 日期待定的事件**不会显示**
- 这是有意为之，避免与精确时间事件混淆

### 3. 测试其他精确度类型

#### **季度待定**
```
标题：年度产学研合作活动
日期精确度：季度待定
大致月份：2024-04 (第二季度的任意月份)
```
- 只在年视图中显示

#### **年度待定**
```
标题：完成课程体系改革
日期精确度：年度待定
大致月份：2024-01 (年初)
```
- 只在年视图中显示

### 4. 编辑待定事件

1. 点击已创建的待定事件
2. 在编辑对话框中可以看到"日期精确度"字段已正确显示
3. 可以将"日期待定"改为"精确日期和时间"
4. 或者修改月份

### 5. 确定日期后更新

当日期确定后：
1. 编辑事件
2. 将"日期精确度"改为 **"精确日期和时间"**
3. 字段会切换回原来的日期选择器
4. 选择具体日期和时间
5. 保存后，事件会移到精确日期位置，样式恢复正常

## 视觉特征对比

| 特征 | 精确日期事件 | 日期待定事件 |
|-----|------------|------------|
| 边框 | 实线 | **虚线** |
| 背景 | 纯色 | **斜纹渐变** |
| 图标 | 无 | 📅? |
| Tooltip | 正常时间 | "日期待定"徽章 |
| 月视图位置 | 精确日期 | **月初（1号）** |

## 常见问题

### Q: 为什么在日视图看不到待定事件？
A: 日视图用于查看精确时间安排，显示待定事件会造成混淆。请切换到月视图或年视图查看。

### Q: 如何快速找到所有待定事件？
A: 切换到**年视图**，所有待定事件会以特殊样式（虚线+斜纹）显示。

### Q: 日期待定的事件可以设置重复吗？
A: 不建议。重复事件通常需要精确的日期和时间。

### Q: 创建时选择了"日期待定"，但没有看到月份选择器？
A: 确保你选择的是"日期待定"而不是"精确日期和时间"。页面会自动切换显示的字段。

## 技术说明

### 数据库字段
- `date_precision`: `"exact"` | `"month"` | `"quarter"` | `"year"`
- `approximate_month`: 格式为 `"YYYY-MM"`（如 `"2024-03"`）

### API 示例

创建待定事件：
```json
POST /api/events
{
  "title": "春季活动",
  "content": "日期待定",
  "datePrecision": "month",
  "approximateMonth": "2024-03",
  "organizer": "学生俱乐部",
  "eventType": "student_activities",
  "tags": "#待定#"
}
```

## 反馈

如果发现任何问题或有改进建议，请：
1. 检查浏览器控制台是否有错误
2. 截图当前界面
3. 记录复现步骤
4. 提交反馈

---

🎉 **开始测试吧！** 创建一些"日期待定"的事件，体验新功能！
